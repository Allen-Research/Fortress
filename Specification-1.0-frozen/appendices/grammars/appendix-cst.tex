%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%   Copyright 2009,2010, Oracle and/or its affiliates.
%   All rights reserved.
%
%
%   Use is subject to license terms.
%
%   This distribution may include materials developed by third parties.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Full Grammar for Fortress Implementors}
\applabel{cst}

\note{The chapter is not up to date.}

In this chapter, we provide a complete definition of the Fortress concrete
syntax.  It includes unimplemented Fortress language features
such as dimensions and units, tests and properties, and where
clauses.  This syntax has been extracted from the parser-generator source
files of an open source partial Fortress reference
implementation~\cite{FortressInterpreter}, available at:

\begin{center}
\url{http://projectfortress.sun.com}
\end{center}

The parser of this reference implementation is generated by Rats!~\cite{Rats},
which generates ``packrat parsers'' that memoize intermediate results to
ensure linear time performance in the presence of unlimited lookahead and
backtracking.  Rats! includes production naming, module modifications, and
semantic predicates.  Actions that generate
semantic values are omitted for simplicity. See~\cite{Rats} for more
information about the Rats! parser generator.

\footnotesize

\section{Components and APIs}
\input{\home/appendices/grammars/rats/Compilation.rats}

\section{Top-level Declarations}
\input{\home/appendices/grammars/rats/Declaration.rats}

\section{Trait and Object Declarations}
\input{\home/appendices/grammars/rats/TraitObject.rats}

\section{Variable Declarations}
\input{\home/appendices/grammars/rats/Variable.rats}

\section{Function Declarations}
\input{\home/appendices/grammars/rats/Function.rats}

\section{Dimension, Unit, Type Alias, Test, Property, and External Syntax
  Declarations}
\input{\home/appendices/grammars/rats/OtherDecl.rats}

\section{Headers without Newlines}
\input{\home/appendices/grammars/rats/NoNewlineHeader.rats}

\section{Headers Maybe with Newlines}
\input{\home/appendices/grammars/rats/MayNewlineHeader.rats}

\section{Parameters}
\input{\home/appendices/grammars/rats/Parameter.rats}

\section{Method Declarations}
\input{\home/appendices/grammars/rats/Method.rats}

\section{Method Parameters}
\input{\home/appendices/grammars/rats/MethodParam.rats}

\section{Expressions}
\input{\home/appendices/grammars/rats/Expression.rats}

\section{Expressions Enclosed by Keywords or Symbols}
\input{\home/appendices/grammars/rats/DelimitedExpr.rats}

\section{Local Declarations}
\input{\home/appendices/grammars/rats/LocalDecl.rats}

\section{Literals}
\input{\home/appendices/grammars/rats/Literal.rats}

\section{Literals within Array Expressions}
\input{\home/appendices/grammars/rats/NoSpaceLiteral.rats}

\section{Expressions without Newlines}
\input{\home/appendices/grammars/rats/NoNewlineExpr.rats}

\section{Expressions within Array Expressions}
\input{\home/appendices/grammars/rats/NoSpaceExpr.rats}

\section{Types}
\input{\home/appendices/grammars/rats/Type.rats}

\section{Types without Newlines}
\input{\home/appendices/grammars/rats/NoNewlineType.rats}

\section{Symbols and Operators}
\input{\home/appendices/grammars/rats/Symbol.rats}

\section{Identifiers}
\input{\home/appendices/grammars/rats/Identifier.rats}

\section{Spaces and Comments}
\input{\home/appendices/grammars/rats/Spacing.rats}

\normalsize
