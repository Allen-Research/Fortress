%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%   Copyright 2012, Oracle and/or its affiliates.
%   All rights reserved.
%
%
%   Use is subject to license terms.
%
%   This distribution may include materials developed by third parties.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Victor: Why the separation of spec-macros and macros?

\newcommand\codesample[1]{{\setlength{\FortressCodeIndent}{3em}\input{\codedir/#1}}}

\newcommand{\union}{\cup}
\newcommand{\intersect}{\cap}

\newcommand{\Union}{\bigcup}
\newcommand{\Intersect}{\bigcap}

\newcommand{\TRUE}{\textit{true}}
\newcommand{\FALSE}{\textit{false}}

\newcommand{\powerset}[1]{2^{#1}}
\newcommand{\lift}[1]{{#1}_\bot}

\newcommand{\mktuple}[1]{\langle {#1} \rangle}

\newcommand{\logicand}{\mathbin{\wedge}}
\newcommand{\logicor}{\mathbin{\vee}}

\newcommand{\opfont}[1]{\textsf{#1}}
\newcommand{\fieldfont}[1]{\textit{#1}}

\newcommand{\bools}{\textit{Bool}}

\newcommand{\apis}{\mathcal{A}}
\newcommand{\forts}{\mathcal{F}}
\newcommand{\components}{\mathcal{C}}
\newcommand{\compsets}{\powerset{\components}}

\newcommand{\programs}{\mathcal{P}}
\newcommand{\codeobjs}{\mathcal{O}}
\newcommand{\redexes}{\mathcal{R}}
\newcommand{\values}{\mathcal{V}}

\newcommand{\UIDs}{\mathcal{I}}
\newcommand{\localnames}{\mathcal{N}}

\newcommand{\uidtofort}{\mathit{f}}

\newcommand{\compile}{\opfont{compile}}
\newcommand{\link}{\opfont{link}}
\newcommand{\upgrade}{\opfont{upgrade}}
\newcommand{\upall}{\opfont{upgrade-all}}
\newcommand{\extract}{\opfont{extract}}
\newcommand{\install}{\opfont{install}}
\newcommand{\clone}{\opfont{clone}}
\newcommand{\unbind}{\opfont{unbind}}
\newcommand{\run}{\opfont{run}}

\newcommand{\uses}{\fieldfont{uses}}

\newcommand{\exports}{\fieldfont{exp}}
\newcommand{\imports}{\fieldfont{imp}}
\newcommand{\visibleAPI}{\fieldfont{vis}}
\newcommand{\constituents}{\fieldfont{cns}}
\newcommand{\provided}{\fieldfont{prov}}

\newcommand{\replaceable}{\fieldfont{replaceable}}

\newcommand{\providedby}{\fieldfont{provided-by}}
\newcommand{\replacerest}{\fieldfont{upg?}}
\newcommand{\installrest}{\fieldfont{prereqs}}

\newcommand{\api}{\mathit{a}}
\newcommand{\comp}{\mathit{c}}
%% \newcommand{\prog}{\mathit{p}}
% DANGER: This is shadowed by definition in calculus-macros.tex
\newcommand{\name}{\mathit{n}}
\newcommand{\fort}{\mathit{F}}

\newcommand{\represt}{\mathit{P}_{\mathrm{C}}}
\newcommand{\instpred}{\mathit{P}_{\mathrm{I}}}

\newcommand{\compset}{\mathit{C}}
\newcommand{\apiset}{\mathit{A}}

\newcommand{\orig}[1]{{#1}_\mathrm{o}}
\newcommand{\targ}[1]{{#1}_\mathrm{t}}
\newcommand{\upg}[1]{{#1}_\mathrm{r}}

\newcommand{\origcomp}{\orig{\comp}}
\newcommand{\targcomp}{\targ{\comp}}
\newcommand{\upgcomp}{\upg{\comp}}

\newcommand{\origname}{\orig{name}}
\newcommand{\targname}{\targ{\name}}
\newcommand{\upgname}{\upg{name}}


\newcommand{\funcfont}[1]{\textit{#1}}

\newcommand{\upgfn}{\funcfont{upgrade}}
\newcommand{\linkfn}{\funcfont{link}}
%% \newcommand{\containfn}{\funcfont{contain}}
\newcommand{\constrainfn}{\funcfont{constrain}}
\newcommand{\hidefn}{\funcfont{hide}}

\newcommand{\simplelinkfn}{\funcfont{\linkfn1}}
\newcommand{\nodiscupgfn}{\funcfont{\upgfn1}}
\newcommand{\discupgfn}{\funcfont{\upgfn2}}

\newcommand{\Keep}{\textit{Keep}}
\newcommand{\Upg}{\textit{Upg}}
\newcommand{\Disc}{\textit{Disc}}

\newcommand{\Covered}[2]{\textit{Cov}({#1},{#2})}


\newcommand{\replrestfn}{\funcfont{std-compatibility-pred}}

%% \newcommand{\reduce}{\funcfont{reduce}}
% Overridden in calculus-macros.
\newcommand{\provider}{\funcfont{provider}}

%% \newcommand{\redex}{\mathit{r}}
% This is overridden in calculus-macros.

\newcommand{\apifont}[1]{\TYP{#1}}

\newcommand{\execapi}{\apifont{Executable}}
\newcommand{\upgapi}{\apifont{Upgradable}}
\newcommand{\instapi}{\apifont{Installable}}

\newcommand{\extcomps}{\mathcal{E}}

\newcommand{\expapis}{\apiset_{\mathrm{E}}}
\newcommand{\visapis}{\apiset_{\mathrm{V}}}


\newcommand{\compfld}{\fieldfont{component}}

\newcommand{\extcomp}{\mathit{e}}


\newcommand{\fortsec}{\TYP{Fortress.Security}}
\newcommand{\fortio}{\TYP{Fortress.IO}}
\newcommand{\fortcryp}{\TYP{Fortress.Crypto}}

\newcommand{\ironsec}{\TYP{IronSecurity}}
\newcommand{\ironio}{\TYP{IronIO}}
\newcommand{\ironcryp}{\TYP{IronCrypto}}
\newcommand{\ironlink}{\TYP{IronLink}}

\newcommand{\coolcrypto}{\TYP{CoolCryptoApp}}
\newcommand{\coolsec}{\TYP{CoolSecurity}}
\newcommand{\secio}{\TYP{IOSecurity}}

\newcommand{\compfont}[1]{\TYP{#1}}
\newcommand{\ic}{\compfont{Ic}}

\newcommand{\inter}{\ensuremath{\cap}}
\newcommand{\uni}{\ensuremath{\cup}}

\newcommand{\Ovrsubtype}{\preceq} % NOTE: redefining this symbol
\newcommand{\subcoercion}{\gg}
\newcommand{\subcoercioneq}{\gg \hspace{-1 mm} =}
\newcommand{\strictsubtype}{\prec}
\newcommand{\substitutable}{\sqsubseteq}
\newcommand{\coercedefto}{\!\rightarrow\!}
\newcommand{\coercesto}{\!\leadsto\!}
\newcommand{\excludes}{\mathrel{\lozenge}} % (perhaps should use \sharp)
\newcommand{\incompatible}{\mathrel{\blacklozenge}} % matches \excludes
\newcommand{\morespecific}[1][]{\triangleleft_{#1}}
\newcommand{\morespecificeq}[1][]{\trianglelefteq_{#1}}
\newcommand{\rejects}{-\!\!\rangle\:}
\newcommand{\noshare}{\between}

\newcommand{\I}{\mathit{I}}
\newcommand{\J}{\mathit{J}}
\newcommand{\K}{\mathit{K}}
\newcommand{\f}{\mathit{f}}
\newcommand{\Ts}{\mathit{T}}
\newcommand{\Us}{\mathit{U}}
\newcommand{\Vs}{\mathit{V}}
\newcommand{\As}{\mathit{A}}
\newcommand{\Ps}{\mathit{P}}
\newcommand{\Qs}{\mathit{Q}}
\newcommand{\Rs}{\mathit{R}}
\newcommand{\Ws}{\mathit{W}}
\newcommand{\Xs}{\mathit{X}}
\newcommand{\Ys}{\mathit{Y}}
\newcommand{\Os}{\mathit{O}}
\newcommand{\Cs}{\mathit{C}}

\newif\ifdefiningNT
\definingNTfalse
\makeatletter
\newcommand\defineNT[1]{{\formatNT{#1} \ifdefiningNT\def\@currentlabel{\formatNT{#1}}\label{nonterminal:#1}\fi}}
\makeatother
\newcommand\NT[1]{\ref{nonterminal:#1}}
\newcommand\NTpageref[1]{\pageref{nonterminal:#1}}
\newcommand\formatNT[1]{\ensuremath{\mathsf{#1}}}
